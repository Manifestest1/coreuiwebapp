{"ast":null,"code":"import{gapi}from'gapi-script';import{UserLoginApi,logoutUserProfile}from'../../apiService';export const loginFun=(setUser,navigate,setToken,setLoggedIn)=>{gapi.auth2.getAuthInstance().signIn({scope:'openid profile email',prompt:'select_account'}).then(googleUser=>{const payload={email:googleUser.wt.cu,name:googleUser.wt.Ad,google_id:googleUser.wt.NT,imageurl:googleUser.wt.hK,password:\"12345678\"};UserLoginApi(payload).then(r=>{console.log(r.data,\"Api Response In Login Side\");if(r.data.authorisation.token){setUser(r.data.user);setToken(r.data.authorisation.token);setLoggedIn(true);if(r.data.user){if(r.data.user.role_id===1){console.log('Employee');navigate('/employee-dashboard');}else if(r.data.user.role_id===2){console.log('Employer');navigate('/employer-dashboard');}else{navigate('/create-profile');console.log('Create Profile');}}else{navigate('/create-profile');}}}).catch(error=>{console.error('Error during login:',error);});}).catch(error=>{console.error('Error signing in with Google:',error);});};export const logoutFun=navigate=>{logoutUserProfile().then(response=>{console.log(\"Logout User Successfully\");localStorage.removeItem('_token');localStorage.removeItem('user');localStorage.removeItem('loggedIn');navigate('/');}).catch(error=>{console.error('Error during logout:',error);});};","map":{"version":3,"names":["gapi","UserLoginApi","logoutUserProfile","loginFun","setUser","navigate","setToken","setLoggedIn","auth2","getAuthInstance","signIn","scope","prompt","then","googleUser","payload","email","wt","cu","name","Ad","google_id","NT","imageurl","hK","password","r","console","log","data","authorisation","token","user","role_id","catch","error","logoutFun","response","localStorage","removeItem"],"sources":["C:/xampp/htdocs/jobsiteProject/job-site-front/Setup_Server/job-site-front/src/views/layout/authFunctions.js"],"sourcesContent":["import { gapi } from 'gapi-script';\r\nimport { UserLoginApi, logoutUserProfile } from '../../apiService';\r\n\r\n\r\nexport const loginFun = (setUser, navigate, setToken, setLoggedIn) => {\r\n  gapi.auth2.getAuthInstance().signIn({\r\n    scope: 'openid profile email',\r\n    prompt: 'select_account',\r\n  }).then((googleUser) => {\r\n    const payload = {\r\n      email: googleUser.wt.cu,\r\n      name: googleUser.wt.Ad,\r\n      google_id: googleUser.wt.NT,\r\n      imageurl: googleUser.wt.hK,\r\n      password: \"12345678\"\r\n    };\r\n    UserLoginApi(payload)\r\n      .then((r) => {\r\n        console.log(r.data, \"Api Response In Login Side\");\r\n        if (r.data.authorisation.token) {\r\n          setUser(r.data.user);\r\n          setToken(r.data.authorisation.token);\r\n          setLoggedIn(true);\r\n          if (r.data.user) {\r\n            if (r.data.user.role_id === 1) {\r\n              console.log('Employee');\r\n              navigate('/employee-dashboard');\r\n            } else if (r.data.user.role_id === 2) {\r\n              console.log('Employer');\r\n              navigate('/employer-dashboard');\r\n            } else {\r\n              navigate('/create-profile');\r\n              console.log('Create Profile');\r\n            }\r\n          } else {\r\n            navigate('/create-profile');\r\n          }\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error during login:', error);\r\n      });\r\n  }).catch((error) => {\r\n    console.error('Error signing in with Google:', error);\r\n  });\r\n};\r\n\r\nexport const logoutFun = (navigate) => {\r\n  logoutUserProfile()\r\n    .then((response) => {\r\n      console.log(\"Logout User Successfully\");\r\n      localStorage.removeItem('_token');\r\n      localStorage.removeItem('user');\r\n      localStorage.removeItem('loggedIn');\r\n      navigate('/');\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during logout:', error);\r\n    });\r\n};\r\n"],"mappings":"AAAA,OAASA,IAAI,KAAQ,aAAa,CAClC,OAASC,YAAY,CAAEC,iBAAiB,KAAQ,kBAAkB,CAGlE,MAAO,MAAM,CAAAC,QAAQ,CAAGA,CAACC,OAAO,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,WAAW,GAAK,CACpEP,IAAI,CAACQ,KAAK,CAACC,eAAe,CAAC,CAAC,CAACC,MAAM,CAAC,CAClCC,KAAK,CAAE,sBAAsB,CAC7BC,MAAM,CAAE,gBACV,CAAC,CAAC,CAACC,IAAI,CAAEC,UAAU,EAAK,CACtB,KAAM,CAAAC,OAAO,CAAG,CACdC,KAAK,CAAEF,UAAU,CAACG,EAAE,CAACC,EAAE,CACvBC,IAAI,CAAEL,UAAU,CAACG,EAAE,CAACG,EAAE,CACtBC,SAAS,CAAEP,UAAU,CAACG,EAAE,CAACK,EAAE,CAC3BC,QAAQ,CAAET,UAAU,CAACG,EAAE,CAACO,EAAE,CAC1BC,QAAQ,CAAE,UACZ,CAAC,CACDxB,YAAY,CAACc,OAAO,CAAC,CAClBF,IAAI,CAAEa,CAAC,EAAK,CACXC,OAAO,CAACC,GAAG,CAACF,CAAC,CAACG,IAAI,CAAE,4BAA4B,CAAC,CACjD,GAAIH,CAAC,CAACG,IAAI,CAACC,aAAa,CAACC,KAAK,CAAE,CAC9B3B,OAAO,CAACsB,CAAC,CAACG,IAAI,CAACG,IAAI,CAAC,CACpB1B,QAAQ,CAACoB,CAAC,CAACG,IAAI,CAACC,aAAa,CAACC,KAAK,CAAC,CACpCxB,WAAW,CAAC,IAAI,CAAC,CACjB,GAAImB,CAAC,CAACG,IAAI,CAACG,IAAI,CAAE,CACf,GAAIN,CAAC,CAACG,IAAI,CAACG,IAAI,CAACC,OAAO,GAAK,CAAC,CAAE,CAC7BN,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC,CACvBvB,QAAQ,CAAC,qBAAqB,CAAC,CACjC,CAAC,IAAM,IAAIqB,CAAC,CAACG,IAAI,CAACG,IAAI,CAACC,OAAO,GAAK,CAAC,CAAE,CACpCN,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC,CACvBvB,QAAQ,CAAC,qBAAqB,CAAC,CACjC,CAAC,IAAM,CACLA,QAAQ,CAAC,iBAAiB,CAAC,CAC3BsB,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,CAC/B,CACF,CAAC,IAAM,CACLvB,QAAQ,CAAC,iBAAiB,CAAC,CAC7B,CACF,CACF,CAAC,CAAC,CACD6B,KAAK,CAAEC,KAAK,EAAK,CAChBR,OAAO,CAACQ,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC7C,CAAC,CAAC,CACN,CAAC,CAAC,CAACD,KAAK,CAAEC,KAAK,EAAK,CAClBR,OAAO,CAACQ,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACvD,CAAC,CAAC,CACJ,CAAC,CAED,MAAO,MAAM,CAAAC,SAAS,CAAI/B,QAAQ,EAAK,CACrCH,iBAAiB,CAAC,CAAC,CAChBW,IAAI,CAAEwB,QAAQ,EAAK,CAClBV,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC,CACvCU,YAAY,CAACC,UAAU,CAAC,QAAQ,CAAC,CACjCD,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC,CAC/BD,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC,CACnClC,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,CAAC,CACD6B,KAAK,CAAEC,KAAK,EAAK,CAChBR,OAAO,CAACQ,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CAAC,CAAC,CACN,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}